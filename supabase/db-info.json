{
  "schema": "public",
  "tables": [
    {
      "name": "feeds",
      "primary_key": ["id"],
      "columns": [
        { "name": "id", "type": "bigint" },
        { "name": "created_at", "type": "timestamptz", "default": "now()" },
        { "name": "name", "type": "text" },
        { "name": "url", "type": "text", "constraints": ["unique"] },
        { "name": "enabled", "type": "boolean", "default": "true" },
        { "name": "filter", "type": "json" }
      ],
      "comment": "RSS feeds to fetch",
      "foreign_keys": {
        "incoming": [],
        "outgoing": [
          {
            "columns": ["id"],
            "references": "articles.feed_id",
            "comment": "articles.feed_id â†’ feeds.id"
          },
          {
            "columns": ["id"],
            "references": "sections_feeds.feed_id",
            "comment": "sections_feeds.feed_id â†’ feeds.id"
          }
        ]
      }
    },
    {
      "name": "articles",
      "primary_key": ["id"],
      "columns": [
        { "name": "id", "type": "bigint" },
        { "name": "feed_id", "type": "bigint" },
        { "name": "created_at", "type": "timestamptz", "default": "now()" },
        { "name": "title", "type": "text" },
        { "name": "url", "type": "text" },
        { "name": "published_at", "type": "timestamptz" },
        { "name": "updated_at", "type": "timestamptz" },
        { "name": "author", "type": "text" },
        { "name": "summary", "type": "text" },
        { "name": "image_url", "type": "text" },
        { "name": "tags", "type": "text[]" }
      ],
      "comment": "Articles fetched for any of the feeds",
      "foreign_keys": {
        "outgoing": [
          {
            "columns": ["feed_id"],
            "references": "public.feeds.id",
            "constraint_name": "articles_feed_id_fkey"
          }
        ],
        "incoming": []
      }
    },
    {
      "name": "profiles",
      "primary_key": ["id"],
      "columns": [
        { "name": "id", "type": "uuid", "default": "gen_random_uuid()" },
        { "name": "created_at", "type": "timestamptz", "default": "now()" },
        { "name": "full_name", "type": "text" },
        { "name": "email", "type": "text" }
      ],
      "foreign_keys": {
        "outgoing": [],
        "incoming": [
          {
            "columns": ["id"],
            "references": "public.sections.user_id",
            "constraint_name": "sections_user_id_fkey"
          }
        ]
      }
    },
    {
      "name": "sections",
      "primary_key": ["id"],
      "columns": [
        { "name": "id", "type": "bigint" },
        { "name": "created_at", "type": "timestamptz", "default": "now()" },
        { "name": "title", "type": "text" },
        { "name": "icon", "type": "text", "default": "'ðŸ¦‰'" },
        { "name": "user_id", "type": "uuid" }
      ],
      "foreign_keys": {
        "outgoing": [
          {
            "columns": ["user_id"],
            "references": "public.profiles.id",
            "constraint_name": "sections_user_id_fkey"
          }
        ],
        "incoming": [
          {
            "columns": ["id"],
            "references": "public.sections_feeds.section_id",
            "constraint_name": "sections_feeds_section_id_fkey"
          }
        ]
      }
    },
    {
      "name": "sections_feeds",
      "primary_key": ["section_id", "feed_id"],
      "columns": [
        { "name": "created_at", "type": "timestamptz", "default": "now()" },
        { "name": "section_id", "type": "bigint" },
        { "name": "feed_id", "type": "bigint" }
      ],
      "purpose": "join table (many-to-many)",
      "foreign_keys": {
        "outgoing": [
          {
            "columns": ["section_id"],
            "references": "public.sections.id",
            "constraint_name": "sections_feeds_section_id_fkey"
          },
          {
            "columns": ["feed_id"],
            "references": "public.feeds.id",
            "constraint_name": "sections_feeds_feed_id_fkey"
          }
        ],
        "incoming": []
      }
    }
  ],
  "relationships": [
    {
      "from_table": "feeds",
      "from_columns": ["id"],
      "to_table": "articles",
      "to_columns": ["feed_id"],
      "type": "one-to-many",
      "description": "feeds.id â†’ articles.feed_id"
    },
    {
      "from_table": "sections",
      "from_columns": ["id"],
      "to_table": "sections_feeds",
      "to_columns": ["section_id"],
      "type": "one-to-many",
      "description": "sections.id â†’ sections_feeds.section_id"
    },
    {
      "from_table": "feeds",
      "from_columns": ["id"],
      "to_table": "sections_feeds",
      "to_columns": ["feed_id"],
      "type": "one-to-many",
      "description": "feeds.id â†’ sections_feeds.feed_id"
    },
    {
      "from_table": "profiles",
      "from_columns": ["id"],
      "to_table": "sections",
      "to_columns": ["user_id"],
      "type": "one-to-many",
      "description": "profiles.id â†’ sections.user_id"
    }
  ],
  "notes": [
    "sections_feeds implements many-to-many between sections and feeds",
    "Foreign key constraint names available for reference: articles_feed_id_fkey, sections_user_id_fkey, sections_feeds_section_id_fkey, sections_feeds_feed_id_fkey"
  ]
}
